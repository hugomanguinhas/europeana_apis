<section>

<h3>What are annotations?</h3>

<p>Annotations (in the Europeana context) are user-contributed or system-generated enhancements to (a selection of) metadata or media. The most well-known type of annotation is the "tag", a short textual depiction of something. Annotations allow for the creation of meaningful connections across Europeana and will also offer up new ways to explore or find the content you're looking for.</p>

<p>The Annotations API uses the <a href="https://www.w3.org/TR/annotation-model/" target="_blank">Web Annotation Data Model</a> as a guideline for how to represent and model annotations.</p>

<h3>Access keys</h3>

<p>While this API is in an Alpha state you will need to use a separate API key (other than for the main Europeana REST API) to start using it. You can use the following keys:</p>

<table class="listingtable">
	<thead>
		<tr>
			<th style="width: 120px">Environment</th>
			<th>Details</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Test</td>
			<td>API key <i>apidemo</i> with user token <i>tester1</i> (allows to create, update &amp; remove annotations on behalf of a test user in the Annotations API test environment).</td>
		</tr>
		<tr>
			<td>Production</td>
			<td>API key <i>apidemo</i> (allows to search and retrieve annotations in the Annotations API production (live) environment).</td>
		</tr>
	</tbody>
</table>

<blockquote>Creating annotations in the production (live) environment is currently limited to only selected partners, this will be opened up as part of the Beta release.</blockquote>

<h3>Request</h3>

<p>Every Annotations API call is an HTTP request in a specified format that is sent to the Annotations API service. The API root URLs for the two environments are located at:</p>

<blockquote>
<p><a href="http://test-annotations.europeana.eu/annotation">https://test-annotations.europeana.eu/annotation</a> (test)<br />
<a href="http://www.europeana.eu/api/annotations">https://www.europeana.eu/api/annotations</a> (production)</p>
</blockquote>

<h3>Response</h3>

<p>This API only supports the <a href="http://json-ld.org/">JSON-LD</a> format, which is the Linked Open Data version of JSON (with the same syntax as JSON). The request and response format does not need to be passed along to the API, if not provided it will fallback to the default. You can provide the format either via the URL (extension) or via the "Accept" header. To specify the request and response format you can either do:</p>

<blockquote>/search.jsonld?wskey=xxxxx&amp;query=*:*</blockquote>

<p>Or:</p>

<blockquote>
Request header: "Accept: application/ld+json"<br />
/search?wskey=xxxxx&amp;query=*:*
</blockquote>

<h3>Authentication</h3>

<p>For <b>reading requests (GET)</b> you need to authenticate by passing along your API key as the <i>wskey</i> parameter. Example (replace YOUR_KEY with your API key):</p>

<blockquote>
/search?wskey=YOUR_KEY&amp;query=*:*
</blockquote>

<p>For <b>writing requests</b> (POST/PUT/DELETE) on behalf of a user you need to pass along your API key as the <i>wskey</i> parameter along with a user token as the <i>userToken</i> parameter. Example (replace YOUR_KEY with your API key and YOUR_TOKEN with the user token):</p>

<blockquote>
/create?wskey=YOUR_KEY&amp;userToken=YOUR_TOKEN&amp;query=*:*
</blockquote>

<h3 id="error-codes">Error Codes</h3>

<p>An error during processing of an API method is reported by (1) a relevant HTTP status code, (2) a value of the success field and (3) a meaningful error message in the error field.</p>

<p>The following HTTP status codes are returned:</p>

<table class="listingtable">
	<thead>
		<tr>
			<th>HTTP Status Code</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>200</td>
			<td>The request was executed successfully.</td>
		</tr>
		<tr>
			<td>401</td>
			<td>Authentication credentials were missing or authentication failed.</td>
		</tr>
		<tr>
			<td>404</td>
			<td>The requested annotation was not found.</td>
		</tr>
		<tr>
			<td>429</td>
			<td>The request could be served because the application has reached its usage limit.</td>
		</tr>
		<tr>
			<td>500</td>
			<td>Internal Server Error. Something has gone wrong, which we will correct.</td>
		</tr>
	</tbody>
</table>

</section>
